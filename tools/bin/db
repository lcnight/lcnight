#! /bin/bash

if [[ $# < 1 ]]; then
    echo "db internal-ip [database]"
    exit
fi

if [[ $1 =~  '.' ]]; then
    host="$1"
else
    host="10.1.1.$1"
fi
user=root
pass=ta0mee
conn_str="mysql -h$host -u$user " 
echo "connecting : $conn_str ..."

db=${2:-"mysql"}
if [[ $#  -gt 2 ]]; then
    shift 2
    $conn_str -p$pass $db -e "$@"
else
    conn_str+=" -p$pass $db --auto-rehash --default-character-set='utf8' --prompt='\u@\d:\h mysql>'"
    eval $conn_str
fi
